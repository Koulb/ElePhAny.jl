<p align="center">
    <img src="docs/src/assets/logo_readme.png" alt="ElePhAny Logo" width="300"/>
</p>

*‚öõÔ∏è **Electron‚ÄìPhonon** interactions with **Any** functional*

[![Build Status](https://github.com/Koulb/ElePhAny.jl/actions/workflows/CI.yml/badge.svg)](https://github.com/Koulb/ElePhAny.jl/actions) [![Documentation](https://img.shields.io/badge/docs-üìñ-blue.svg)](https://koulb.github.io/ElePhAny.jl) [![ArXiv](https://img.shields.io/badge/arXiv-preprint-orange.svg)](#) [![License: MIT](https://img.shields.io/badge/license-MIT-green.svg)](#)

## Overview

**ElePhAny** is a Julia package for calculating **electron‚Äìphonon coupling matrix** elements using a **finite-difference** approach. It enables first-principles e‚Äìph calculations with **any exchange‚Äìcorrelation functional or beyond-DFT method** (e.g. hybrid functionals, Koopmans functionals, GW), overcoming the limitations of DFPT which only supports standard LDA/GGA functionals.  

ElePhAny constructs the e‚Äìph matrix elements from supercell calculations: it reads eigenvalues and eigenvectors of the pristine and displaced structures and computes the coupling by projecting the change in the Hamiltonian onto the displaced Bloch states.  

The code interfaces with ab initio outputs from [Quantum‚ÄØEspresso](https://www.quantum-espresso.org/) (and other codes using QE formats, such as [Koopmans](https://koopmans-functionals.org/en/latest/#) or [Yambo](https://www.yambo-code.eu/)) and can export the resulting e‚Äìph matrices to [EPW](https://epw-code.org/) for further analysis of charge transport, band renormalization, and other properties.

## Features

- üöÄ **General Finite-Difference Method:** Uses finite atomic displacements to evaluate electron‚Äìphonon interactions, avoiding linear-response (DFPT). This **works with any functional**, including orbital-dependent methods beyond DFT. 
- üìê **Eigenvalue Projectability Formula:** Employs an eigenvalue-based projection technique to evaluate electron-phonon coupling, using **only the eigenvalues and eigenvectors** of the unperturbed and displaced systems. This approach yields electron-phonon coupling for **any commensurate**  **k**-point and **q**-point in the supercell.   
- ‚öñÔ∏è **Symmetry Reduction:** Exploits crystal symmetries to minimize the number of displacements needed. **Only inequivalent atoms (and directions) are displaced**, and symmetry operations generate the rest, greatly reducing computational cost.  
- üì¶ **EPW Integration:** The computed e‚Äìph matrix elements can be written in EPW format, allowing you to leverage EPW to compute phonon-assisted transport, superconducting tempreature, etc., using the advanced functional data generated by ElePhAny.

## Installation

1. **Install Julia:** [Download Julia](https://julialang.org/downloads/) (v1.6 or later).  
2. **Add ElePhAny:**  

```julia
   julia> ]
   pkg> add https://github.com/Koulb/ElePhAny.jl
```

2. **(Alternative) Development mode:**

```sh
git clone https://github.com/Koulb/ElePhAny.jl.git
cd ElePhAny.jl
julia
```

In Julia:

```julia
julia> ]
pkg> dev .
```

3. **For Python-like dictionaries support:**

```julia
pkg> add PythonCall
```

## Usage

1. **Run supercell DFT calculations**: ground state + displaced structures.
2. **Process with ElePhAny**: load outputs, compute electron-phonon matrix elements.
3. **Export or analyze**: e.g. save in EPW format for further property calculations.

‚û°Ô∏è See the [**documentation**](https://koulb.github.io/ElePhAny.jl) for a full tutorial and API reference.

‚û°Ô∏è See the [**preprint**](#) for full derivation and details on theory.

## References and Resources
* ‚öôÔ∏è [Quantum Espresso](https://www.quantum-espresso.org/)
* ‚öôÔ∏è [EPW](https://epw-code.org/)

**License:** MIT
